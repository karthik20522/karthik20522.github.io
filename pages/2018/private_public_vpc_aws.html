<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Everyone meet Karthik</title>

    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>
    <div class="wrapper">
        <header>
            <div style="width:100%; text-align: center;">
                <a href="/"><img src="/images/0.jpg" style="border-radius: 50%;" /></a>
            </div>
            <h1 style="margin-bottom: 1px; text-align: center;">//Karthik Srinivasan</h1>
            <p style="text-align: center;">
                Product Engineer, CTO & a Beer Enthusiast <br />
                Experiments, thoughts, random commands and scripts documented for posterity.
            </p>
            <p class="view" style="margin:0;"><a href="https://github.com/karthik20522?tab=repositories" target="_blank"><img src="/images/github.svg" height="15px" style="margin-right: 5px;" />Quirky Personal Projects</a></p>
            <p class="view" style="margin:0;"><a href="https://linkedin.com/in/karthik-srinivasan-07b23493/" target="_blank"><img src="data:image/png;base64,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" height="15px" style="margin-right: 5px;" />LinkedIn</a></p>
            <p class="view" style="margin:0;"><a href="/pages/beers_in_my_belly.html" target="_blank"><img src="/images/beer.png" height="15px" style="margin-right: 5px;" />Beers in my belly</a></p>
            <p class="view"><a href="mailto:karthik20522 (at) yahoo (dot) com" target="_blank"><img src="/images/email.png" height="15px" style="margin-right: 5px;" />Email me</a></p>
        </header>
        <section>
<h1 class="h2">Creating VPC with Public and Private subnets</h1>
<p>April 15, 2018</p>
<p>Instances in Public subnet will have internet access while instances in Private subnet don&rsquo;t.</p>
<p>VPS details:</p>
<p>VPC Name: MyVPC<br />CIDR :&nbsp;10.0.0.0/16<br />Public Subnet:&nbsp;10.0.1.0/24<br />Private Subnet:&nbsp;10.0.2.0/24</p>
<h4>1. Create VPC</h4>
<p>Login to AWS management console and navigate to the VPC console. Select &ldquo;Your VPCs&rdquo; from sidebar and click on &ldquo;Create VPC&rdquo;</p>
<p>Note: There will be a VPC created by default,&nbsp;<strong>DO NOT</strong>&nbsp;delete it or make any changes to it</p>
<p><img class="alignnone size-full wp-image-7979" src="blob:https://htmleditor.io/f51e47b7-eccd-4499-a90f-dff8d1c8cf2c" sizes="(max-width: 1044px) 100vw, 1044px" srcset="https://www.assistanz.com/wp-content/uploads/2018/01/Capture.png 1044w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture-300x136.png 300w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture-768x349.png 768w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture-1024x465.png 1024w" alt="" width="1044" height="474" /></p>
<p>Enter VPC CIDR details as belowName tag:&nbsp;<strong>MyVPC</strong><br />IPv4 CIDR block* :&nbsp;<strong>10.0.0.0/16</strong></p>
<p><img class="alignnone size-full wp-image-7981" src="blob:https://htmleditor.io/b805c970-ccab-4e29-b3a7-924efc316416" sizes="(max-width: 927px) 100vw, 927px" srcset="https://www.assistanz.com/wp-content/uploads/2018/01/Capture2.png 927w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture2-300x155.png 300w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture2-768x396.png 768w" alt="" width="927" height="478" /></p>
<p>Leave the remaining settings as it is and click &ldquo;Yes, Create&rdquo; button.&nbsp; Note that, upon creation of &ldquo;MyVPC&rdquo;, it will automatically create a default &ldquo;Route table&rdquo; and a &ldquo;Network ACL&rdquo; for &ldquo;MyVPC&rdquo;.</p>
<h4>2. Create Public Subnet</h4>
<p>Make sure to select &ldquo;MyVPC&rdquo;&nbsp; under &ldquo;VPC&rdquo;&nbsp; drop down menu and enter 10.0.1.0/24 in &ldquo;IPv4 CIDR block&rdquo; for public subnet.</p>
<p><img class="alignnone size-full wp-image-7988" src="blob:https://htmleditor.io/052680ce-ca94-472b-a04a-760a3b89ea34" sizes="(max-width: 1174px) 100vw, 1174px" srcset="https://www.assistanz.com/wp-content/uploads/2018/01/Capture5-1.png 1174w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture5-1-300x126.png 300w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture5-1-768x322.png 768w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture5-1-1024x429.png 1024w" alt="" width="1174" height="492" /></p>
<h4>3. Create Private Subnet</h4>
<p>Now create Private subnet with CIDR&nbsp;10.0.2.0/24</p>
<p><img class="alignnone size-full wp-image-7989" src="blob:https://htmleditor.io/ce7cd83b-44e5-45f8-a389-118bd8ec6428" sizes="(max-width: 1303px) 100vw, 1303px" srcset="https://www.assistanz.com/wp-content/uploads/2018/01/Capture6.png 1303w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture6-300x115.png 300w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture6-768x294.png 768w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture6-1024x392.png 1024w" alt="" width="1303" height="499" /></p>
<h4>4. Create and Attach &ldquo;Internet Gateway&rdquo;</h4>
<p>Create and Attach &ldquo;Internet Gateway&rdquo; to our newly created VPC &ldquo;MyVPC&rdquo;</p>
<p>Note:&nbsp; There will be a default Internet Gateway,&nbsp;<strong>DO NOT</strong>&nbsp;detach/delete it.</p>
<p><img class="alignnone size-full wp-image-7990" src="blob:https://htmleditor.io/40210690-c833-44d6-9890-2b23d2388911" sizes="(max-width: 1112px) 100vw, 1112px" srcset="https://www.assistanz.com/wp-content/uploads/2018/01/Capture7.png 1112w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture7-300x92.png 300w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture7-768x236.png 768w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture7-1024x315.png 1024w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture7-1110x342.png 1110w" alt="" width="1112" height="342" /><img class="alignnone size-full wp-image-7991" src="blob:https://htmleditor.io/8c8107bf-b981-4c84-8f41-6067f7fc8a10" sizes="(max-width: 830px) 100vw, 830px" srcset="https://www.assistanz.com/wp-content/uploads/2018/01/Capture8.png 830w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture8-300x43.png 300w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture8-768x111.png 768w" alt="" width="830" height="120" />Once created, it will be in &ldquo;detached&rdquo; status. We need to attach it to &ldquo;MyVPC&rdquo;</p>
<p><img class="alignnone size-full wp-image-7992" src="blob:https://htmleditor.io/46168e94-7682-468d-a612-f9e767e7ebc0" sizes="(max-width: 1092px) 100vw, 1092px" srcset="https://www.assistanz.com/wp-content/uploads/2018/01/Capture9.png 1092w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture9-300x99.png 300w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture9-768x252.png 768w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture9-1024x337.png 1024w" alt="" width="1092" height="359" /></p>
<p>Now &ldquo;MyIG&rdquo; status will turn into &ldquo;attached&rdquo;</p>
<p><img class="alignnone size-full wp-image-7993" src="blob:https://htmleditor.io/e90c2aaf-bc6d-4de9-8ea3-340d9086430a" sizes="(max-width: 828px) 100vw, 828px" srcset="https://www.assistanz.com/wp-content/uploads/2018/01/Capture10.png 828w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture10-300x51.png 300w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture10-768x130.png 768w" alt="" width="828" height="140" /></p>
<h4>5. Add a route to Public Subnet</h4>
<p>In order to make the instances created in Public subnet internet accessible, we will create a new &ldquo;Route table&rdquo;, that will establish connection between Public subnet and Internet Gateway.</p>
<p>Note: It is not recommended to modify &ldquo;main&rdquo; route table that was created by default when &ldquo;MyVPC&rdquo; was lanched.</p>
<p>Create a new Route table with name &ldquo;PublicRT&rdquo;</p>
<p><img class="alignnone size-full wp-image-7995" src="blob:https://htmleditor.io/e4843e53-30eb-44dd-acf3-15dc358233e6" sizes="(max-width: 1102px) 100vw, 1102px" srcset="https://www.assistanz.com/wp-content/uploads/2018/01/Capture11.png 1102w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture11-300x95.png 300w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture11-768x244.png 768w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture11-1024x325.png 1024w" alt="" width="1102" height="350" /></p>
<p>Select &ldquo;PublicRT&rdquo;, click on &ldquo;Routes&rdquo; tab and &ldquo;edit&rdquo;.</p>
<p><img class="alignnone size-full wp-image-7996" src="blob:https://htmleditor.io/7795ccc9-59b8-4e15-835b-a2dd8a8cca55" sizes="(max-width: 989px) 100vw, 989px" srcset="https://www.assistanz.com/wp-content/uploads/2018/01/Capture12.png 989w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture12-300x122.png 300w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture12-768x311.png 768w" alt="" width="989" height="401" /></p>
<p>Add &ldquo;0.0.0.0/0&rdquo; as &ldquo;Destination&rdquo; and click on next box, it should list the &ldquo;Internet Gateway&rdquo; that we created before, select it and click on &ldquo;Save&rdquo;.</p>
<p><img class="alignnone size-full wp-image-7994" src="blob:https://htmleditor.io/045a0024-faba-471b-b710-0981217657ba" sizes="(max-width: 1019px) 100vw, 1019px" srcset="https://www.assistanz.com/wp-content/uploads/2018/01/Capture13.png 1019w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture13-300x87.png 300w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture13-768x223.png 768w" alt="" width="1019" height="296" /></p>
<p>Associate this &ldquo;PublicRT&rdquo; with Public subnet &ldquo;PublicNet&rdquo;</p>
<p><img class="alignnone size-full wp-image-7998" src="blob:https://htmleditor.io/82e4aff1-f6d8-49d0-b37b-e7e14def9771" sizes="(max-width: 945px) 100vw, 945px" srcset="https://www.assistanz.com/wp-content/uploads/2018/01/Capture14.png 945w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture14-300x107.png 300w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture14-768x273.png 768w" alt="" width="945" height="336" /></p>
<p>Select&nbsp; &ldquo;PublicNet&rdquo; and click &ldquo;Save&rdquo;</p>
<p><img class="alignnone size-full wp-image-7997" src="blob:https://htmleditor.io/fe703a2b-3d1c-481c-90eb-ce52b8b4915c" sizes="(max-width: 933px) 100vw, 933px" srcset="https://www.assistanz.com/wp-content/uploads/2018/01/Capture15.png 933w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture15-300x84.png 300w, https://www.assistanz.com/wp-content/uploads/2018/01/Capture15-768x216.png 768w" alt="" width="933" height="262" /></p>
<p>That&rsquo;s it!!</p>
<p>Now you&rsquo;ll now be able to connect to internet from instances that are launched via Public subnet.</p>
<p><strong>Note: Make sure that you have enabled &ldquo;Public IP&rdquo; or attached Elastic IP to the instance in public subnet.</strong></p><!--*********************FOOTER'ISH************************-->
<div id="graphcomment"></div>
<script type="text/javascript">
    /*window.gc_params = {
        graphcomment_id: 'Karthik-Github',
        fixed_header_height: 0,
    };
    (function () {
        var gc = document.createElement('script'); gc.type = 'text/javascript'; gc.async = true;
        gc.src = 'https://graphcomment.com/js/integration.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(gc);
    })();*/
</script>

</section>
<footer></footer>
</div>
<script src="/javascripts/scale.fix.js"></script>
<script>
/*    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-140795658-1');*/
</script>
</body>
</html>
